# This is the configuration file for the hardware resources required by the Market Data Handler.
#
# Structure:
#   - main_cpu: <cpu>              # CPU core for main thread
#   - worker_cpus: <range>         # CPU range for workers (e.g., "1-12")
#   - pubsubs:                     # List of pub/sub configurations
#       - feed:
#           kind: <kind>           # Feed kind (e.g., top, trade)
#           # Either use 'sets' for grouped symbols:
#           sets:
#             - name: <set_name>
#               num_cpus: <count>
#               ring_size: <size>
#               symbols: [...]
#               medium:            # Protocol/parser combinations
#                 - protocol: <protocol>
#                   parser: <parser>
#           # Or use direct configuration:
#           num_cpus: <count>
#           ring_size: <size>
#           symbols: [...]
#           medium:
#             - protocol: <protocol>
#               parser: <parser>
#

- main_cpu: 0
- worker_cpus: 1-12
- pubsubs:
  - feed:
    kind: top
    sets:
    - name: A
      num_cpus: 4
      ring_size: 65536
      symbols:
        - BTCUSDT
        - ETHUSDT
        - SOLUSDT
      medium:
        - protocol: websocket
          parser: json
        - protocol: websocket
          parser: sbe
        - protocol: websocket
          parser: fix
    - name: B
      num_cpus: 4
      ring_size: 65536
      symbols:
        - ADAUSDT
        - XRPUSDT
        - DOTUSDT
      medium:
        - protocol: websocket
          parser: json
  - feed:
    kind: trade
    num_cpus: 4
    ring_size: 65536
    symbols:
      - BTCUSDT
      - ETHUSDT
      - SOLUSDT
    medium:
      - protocol: websocket
        parser: json